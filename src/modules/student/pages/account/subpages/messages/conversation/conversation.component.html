<div class="p-5 h-[60vh] overflow-auto">
  <div class="flex flex-col">
    <div class="border-b py-5" *ngFor="let msg of messages; let i = index">
        <div [ngClass]="msg.belongsTo === account.email ? 'justify-end': ''" class="flex items-center space-x-2">
          <div class="relative">
            <img class="border border-black w-[70px] h-[70px] object-cover rounded-full" [src]="msg.belongsTo === account.email ? account && account.picture === 'default' ? '../../../../../../assets/user.webp': account && account.picture : person2 && person2.picture === 'default' ? '../../../../../../assets/user.webp': person2 && person2.picture" alt="photo">
            <span *ngIf="person2?.online && msg.belongsTo !== account.email" class="absolute right-0 bottom-0 border-[3px] border-white w-[20px] h-[20px] rounded-full bg-green-600"></span>
          </div>
          <div>
            <h2 class="font-bold text-xl">{{msg.belongsTo === account.email ? account && account.name : person2 && person2.name}}</h2>
            <span *ngIf="person2?.online && msg.belongsTo !== account.email" class="text-xs text-green-600 block">online</span>
          </div>
        </div>
        <p [ngClass]="msg.belongsTo === account.email ? 'text-right': ''" class="py-8">{{msg.content}}</p>
        <p class="text-center text-black/50">{{msg.sentAt | date}}</p>
    </div>
    <p class="font-bold text-center p-16" *ngIf="messages && messages.length === 0">No messages sent yet..</p>
    <p [ngClass]="typing ? 'opacity-[1]' : 'opacity-0'" class="mt-5 p-4 text-2xl text-black/60 duration-500">typing...</p>
    <div>
      <mat-form-field class="w-full" appearance="fill">
        <mat-label>Write a message</mat-label>
        <textarea (keyup.enter)="sendMessage()" (keyup)="isTyping()" [(ngModel)]="message" matInput></textarea>
      </mat-form-field>
      <button (click)="sendMessage()" class="text-white shadow-black/40 shadow-lg bg-gradient-to-r from-[#6a43ff] to-[#8d46ff] rounded-full p-2">Send Message</button>
    </div>
  </div>
</div>
